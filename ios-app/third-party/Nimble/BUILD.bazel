load("@build_bazel_rules_swift//swift:swift.bzl", "swift_library")

objc_library(
    name = "Nimble",
    module_name = "Nimble",
    srcs = glob([
        "Sources/**/*.{swift,m,c}",
        "Carthage/Checkouts/CwlCatchException/Sources/**/*.{swift,m,c}",
        "Carthage/Checkouts/CwlPreconditionTesting/Sources/**/*.{swift,m,c}",
    ], exclude = [
        "Carthage/Checkouts/CwlPreconditionTesting/Sources/CwlPreconditionTesting/CwlCatchBadInstructionPosix.swift",
    ]),
    hdrs = glob([
        "Sources/**/*.h",
        "Carthage/Checkouts/CwlCatchException/Sources/**/*.h",
        "Carthage/Checkouts/CwlPreconditionTesting/Sources/**/*.h",
    ], exclude = [
        "Carthage/Checkouts/CwlPreconditionTesting/Sources/CwlPreconditionTesting/Posix/CwlPreconditionTesting_POSIX.h",
    ]),
    copts = ["-fmodule-name=Nimble"],
    sdk_frameworks = ["XCTest"],
    visibility = ["//visibility:public"],
)
